
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>영상 오버레이</title>
  <link rel="stylesheet" href="common.css">
  <style>
    body {
      background: transparent;
      margin: 0;
      overflow: hidden;
    }
    video {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <video id="videoPlayer" controls autoplay></video>

  <script type="module">
    import { listenQueue, removeFromQueue } from './common.js';

    const params = new URLSearchParams(window.location.search);
    const room = params.get('room') || 'default';
    const player = document.getElementById('videoPlayer');

    listenQueue(room, (key, url) => {
      player.src = url;
      player.play();
      player.onended = () => removeFromQueue(room, key);
    });
  </script>
</body>
</html>
